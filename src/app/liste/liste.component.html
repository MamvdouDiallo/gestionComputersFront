<div class="flex items-center  listProd h-[90vh] flex-col">
    <div class=" w-3/4 my-5 flex justify-between ">
      
    </div>
    <div class="w-3/4  shadow-md list">
        <div class="w-full  flex items-center justify-between m-2 flex-col  lg:flex-row ">
            <label for="">Recherché par :</label>
            <div>
                <select [(ngModel)]="selectedFilterField"
                    class="block text-sm text-gray-900 border border-gray-300 rounded-sm bg-gray-50 focus:ring-gray-500 focus:border-gray-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500">
                    <option selected value="libelle">Libellé</option>
                    <option value="code">Code</option>
                    <option value="categorie">Catégorie</option>
                </select>
            </div>
            <div class="relative">
                <input type="text" id="table-search-users" type="text" [(ngModel)]="searchTerm"
                    class="block p-2 pl-10 text-sm text-gray-900 border border-gray-300 rounded-sm w-80 bg-gray-50 focus:ring-gray-500 focus:border-gray-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-gray-500 dark:focus:border-blue-500"
                    placeholder="Search">
            </div>
            <button type="button"
                class="text-white bg-gray-700 hover:bg-gray-700 focus:ring-4 focus:ring-blue-300 font-medium rounded-sm text-sm px-5 py-2.5 mr-2 mb-2 dark:bg-gray-600 dark:hover:bg-gray-700 focus:outline-none dark:focus:ring-gray-800">Rechercher</button>
            <div>
                <div>
                    <button type="button"
                        class="py-2.5 px-5 mr-2 mb-2 text-sm font-medium text-gray-900 focus:outline-none bg-white rounded-sm border border-gray-200 hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-4 focus:ring-gray-200 dark:focus:ring-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-600 dark:hover:text-white dark:hover:bg-gray-700">Imprimer</button>
                    <button type="button"
                        class="text-white bg-gray-800 hover:bg-gray-900 focus:outline-none focus:ring-4 focus:ring-gray-300 font-medium rounded-sm text-sm px-5 py-2.5 mr-2 mb-2 dark:bg-gray-800 dark:hover:bg-gray-700 dark:focus:ring-gray-700 dark:border-gray-700">Etat</button>
                </div>
                <div class="flex items-center justify-center">
                    <button type="button"
                        class="focus:outline-none text-white bg-red-700 hover:bg-red-800 focus:ring-4 focus:ring-red-300 font-medium rounded-sm text-sm px-5 py-2.5 mr-2 mb-2 dark:bg-red-600 dark:hover:bg-red-700 dark:focus:ring-red-900">Le
                        stock</button>
                </div>
            </div>
        </div>
        <div class="full">
            <div class="mb-3">
                <div class="flex  flex-col items-center justify-between py-4 bg-white dark:bg-gray-800   lg:flex-row">
                    <div>
                        <label for="">Nombre de lignes par page:</label>
                        <select name="" id="" (change)="itemsParge($event)"
                            class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-r-lg border-l-gray-100 dark:border-l-gray-700 border-l-2 focus:ring-gray-500 focus:border-gray-500 block w-1/2 p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-gray-500 dark:focus:border-gray-500">
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="5">5</option>
                            <option value="7">7</option>

                        </select>
                    </div>


                </div>
            </div>
        </div>
        <div class="max-h-96 w-full overflow-y-auto">
            <table class="w-full  text-sm text-left text-gray-500 dark:text-gray-400">
                <thead class="text-xs w-full text-gray-700 uppercase   bg-gray-50 dark:bg-gray-700 dark:text-gray-400">
                    <tr class="">
                        <th scope="col" class="px-6 py-3 hidden  lg:block">
                            <span class="">Image</span>
                        </th>
                        <th scope="col" class="px-6 py-3">
                            <span class="">Code</span>
                        </th>
                        <th scope="col" class="px-6 py-3">
                            Product
                        </th>
                        <th scope="col" class="px-6 py-3 hidden lg:block">
                            Catégorie
                        </th>
                        <!-- <th scope="col" class="px-6 py-3">
                            Qty
                        </th> -->
                        <th scope="col" class="px-6 py-3">
                            Price
                        </th>
                        <th scope="col" class="px-6 py-3">
                            <a type="button" routerLink="add"
                                class="focus:outline-none text-white bg-gray-700 hover:bg-gray-800 focus:ring-4 focus:ring-gray-300 font-medium rounded-sm text-sm px-5 py-2.5 mr-2 mb-2 dark:bg-gray-600 dark:hover:bg-gray-700 dark:focus:ring-gray-800">Ajouter</a>
                        </th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let item of products | productFilter:searchTerm:selectedFilterField  | paginate
                    : {
                        itemsPerPage: tableSize,
                        currentPage: page,
                        totalItems: count
                      };
                let i = index"
                        class="bg-white   border-b dark:bg-gray-800 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600">
                        <td class="p-4 hidden lg:block">
                            <img src="{{item.image}}" alt="Apple Watch" style="width: 250px; height: 100px;">
                        </td>
                        <td class="px-6 py-4 font-semibold text-gray-900 dark:text-white">
                            {{item.code}}
                        </td>
                        <td class="px-6 py- font-semibold text-gray-950 dark:text-white ">
                            {{item.libelle}}
                        </td>
                        <td class="px-6 py-4 font-semibold text-gray-900 dark:text-white">
                            {{item.categorie}}
                        </td>
                        <!-- <td class="px-6 py-4 font-semibold text-gray-900 dark:text-white">
                            {{item.Quantite}}
                        </td> -->
                        <td class="px-6 py-4 font-semibold text-gray-900 dark:text-white">
                            {{item.prixDetail}}
                        </td>
                        <td class="px-6 py-4">
                            <button type="button"
                                class="text-blue-700 hover:text-white border border-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center mr-2 mb-2 dark:border-blue-500 dark:text-blue-500 dark:hover:text-white dark:hover:bg-blue-500 dark:focus:ring-blue-800"
                                (click)="getRowDetail(item.id)">Détails</button>
                            <button type="button"
                                class="text-yellow-400 hover:text-white border border-yellow-400 hover:bg-yellow-500 focus:ring-4 focus:outline-none focus:ring-yellow-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center mr-2 mb-2 dark:border-yellow-300 dark:text-yellow-300 dark:hover:text-white dark:hover:bg-yellow-400 dark:focus:ring-yellow-900"
                                (click)="getRowById(item.id)">Editer</button>
                        </td>
                    </tr>


                </tbody>

            </table>
        </div>
    </div>



    

    <div class="d-flex justify-content-center mt-1">
        <pagination-controls previousLabel="Précedant" nextLabel="Suivant" class="rounded-md"
            (pageChange)="onTableDataChange($event)">
        </pagination-controls>
    </div>
</div>
